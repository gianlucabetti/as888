000100061030     H DATEDIT(*YMD.)
000200060918      //********************************************************************************************
000300060918      //
000400060918      // Definizione variabili.
000500060918      //
000600060918      //********************************************************************************************
000700070111     FFIPRC00R  o  a E             DISK
000800061030
000900061017     D Profilo         S             10
001000061031     D IDdispositivo   S             35
001100061228     D Dati            S            250
001200061017     D RTNesito        S             10I 0
001300061017     D RTNopcode       S             10
001400061017     D RTNstatus       S             10I 0
001500070117
001600070117     d Wdata           ds
001700070117     d  waa1                   1      4  0
001800070117     d  wmm1                   5      6  0
001900070117     d  wgg1                   7      8  0
002000070117
002100070117     d                 ds
002200070117     d wtime                   1      6  0
002300070117     d wgg                     7      8  0
002400070117     d wmm                     9     10  0
002500070117     d waa                    11     14  0
002600070117     d w0014                   1     14  0
002700060918
002800060918      //********************************************************************************************
002900060918      //
003000060918      // Definizione parametri procedura.
003100060918      //
003200060918      //********************************************************************************************
003300060918     C     *ENTRY        PLIST
003400061017     C                   PARM                    Profilo
003500061031     C                   PARM                    IDdispositivo
003600061228     C                   PARM                    Dati
003700061017     C                   PARM                    rtnesito
003800061017     C                   PARM                    rtnopcode
003900061017     C                   PARM                    rtnstatus
004000060918
004100061228      //******************************************************************* ************************
004200061030
004300061030     c                   eval      *inlr = *on
004400061030
004500061030     C                   clear                   rtnesito
004600061030     C                   clear                   rtnopcode
004700061030     C                   clear                   rtnstatus
004800070117     C                   clear                   w0014
004900070117     C                   clear                   wdata
005000070111     C                   clear                   FIPRC000
005100061030
005200070111     c                   eval      PRCtiporcd  = 'RES'
005300070111     c                   movel     profilo       PRCPRFC
005400070111     c                   movel     IDdispositivo PRCIDDISP
005500070111     c                   movel     Dati          PRCDATI
005600070117     c                   TIME                    w0014
005700070117     c                   move      waa           waa1
005800070117     c                   move      wmm           wmm1
005900070117     c                   move      wgg           wgg1
006000070117     c                   movel     wdata         PRCdatora
006100070117     c                   move      wtime         PRCdatora
006200061030
006300070111     c                   WRITE(e)  FIPRC000
006400060918
006500061030     C                   IF        %error
006600061030     c                   eval      RTNesito  = -1
006700061030     c                   eval      RTNstatus = %status
006800061030     c                   eval      RTNopcode = 'STATUS'
006900061030     c                   RETURN
007000061030     c                   ENDIF
007100061030
007200061030     c                   RETURN
