000100080219     H DATEDIT(*YMD.)
000200080219      //********************************************************************************************
000300080219      //
000400080219      // Definizione variabili.
000500080219      //
000600080219      //********************************************************************************************
000700080219     Ffiprd00r  o  a e             disk
000800080219
000900080219     D Profilo         S             10
001000080219     D IDdispositivo   S             35
001100080219     D Dati            S            250
001200080219     D RTNesito        S             10I 0
001300080219     D RTNopcode       S             10
001400080219     D RTNstatus       S             10I 0
001500080219
001600070117     d Wdata           ds
001700080219     d  waa1                   1      4  0
001800080219     d  wmm1                   5      6  0
001900080219     d  wgg1                   7      8  0
002000080219
002100080219     d                 ds
002200080219     d wtime                   1      6  0
002300080219     d wgg                     7      8  0
002400080219     d wmm                     9     10  0
002500080219     d waa                    11     14  0
002600080219     d w0014                   1     14  0
002700080219
002800080219      //********************************************************************************************
002900080219      //
003000080219      // Definizione parametri procedura.
003100080219      //
003200080219      //********************************************************************************************
003300080219     C     *ENTRY        PLIST
003400080219     C                   PARM                    Profilo
003500080219     C                   PARM                    IDdispositivo
003600080219     C                   PARM                    Dati
003700080219     C                   PARM                    rtnesito
003800080219     C                   PARM                    rtnopcode
003900080219     C                   PARM                    rtnstatus
004000080219
004100080219      //********************************************************************************************
004200080219
004300080219     c                   eval      *inlr = *on
004400080219
004500080219     C                   clear                   rtnesito
004600080219     C                   clear                   rtnopcode
004700080219     C                   clear                   rtnstatus
004800080219     C                   clear                   w0014
004900080219     C                   clear                   wdata
005000080219     C                   clear                   FIPRD000
005100080219
005200170523     c                   eval      PRDtiporcd  = 'CSA'
005300080219     c                   movel     profilo       PRDPRFC
005400080219     c                   movel     IDdispositivo PRDIDDISP
005500080219     c                   movel     Dati          PRDDATI
005600080219     c                   TIME                    w0014
005700080219     c                   move      waa           waa1
005800080219     c                   move      wmm           wmm1
005900080219     c                   move      wgg           wgg1
006000080219     c                   movel     wdata         PRDdatora
006100080219     c                   move      wtime         PRDdatora
006200080219
006300080219     c                   WRITE(e)  FIPRD000
006400080219
006500080219     C                   IF        %error
006600080219     c                   eval      RTNesito  = -1
006700080219     c                   eval      RTNstatus = %status
006800080219     c                   eval      RTNopcode = 'STATUS'
006900080219     c                   RETURN
007000080219     c                   ENDIF
007100061030
007200080219     c                   RETURN
