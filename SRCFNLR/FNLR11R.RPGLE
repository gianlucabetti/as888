000100030826     h decedit('0,') datedit(*dmy/)
000200030826      **-------------------------------------------------------------**
000300030922      ** FNLR11R ** Quadratura bolle da consegnare - creazione WrkF  **
000400030826      **-------------------------------------------------------------**
000500030826      *
000600030826      *   C O S T A N T I   - - - - - - - - - - - - - - - - - - - - - *
000700030826      *
000800030826      *
000900030826      *   S C H I E R E   - - - - - - - - - - - - - - - - - - - - - - *
001000030826      *
001100030826     d $Cmd            s             80    dim(1) ctdata perrcd(1)
001200030826      *
001300030826      *   S T R U T T U R E   D A T I   - - - - - - - - - - - - - - - *
001400030826      *
001500030826     d KPJBA         e ds
001600030908      *
001700030908     d FNLR12ds      e ds                  inz
001800030826      *
001900030826     d FNLR51ds        ds                  inz
002000030826     d***  LR51lna                1     87  0
002100030826     d***                                     dim(29) descend
002200030826     d***  LR51znc               88    107
002300030826     d***                                     dim(10) descend
002400030922     d***  LR51dat              108    115  0
002500030826     d***  LR51abi              116    117
002600030826     d  LR51pou              118    120
002700030826     d***  LR51nfv              121    125
002800030826     d***  LR51ges              126    128  0
002900030826     d***  LR51out              129    129
003000030826     d***  LR51inc              130    131
003100030826     d***  LR51ima              132    133
003200030826     d***  LR51dfa              134    141  0
003300030826     d***  LR51fia              142    146  0
003400030826     d***  LR51fgs              147    149  0
003500030826     d***  LR51snp              150    150
003600030826     d***  LR51ass              151    152
003700030826     d***  LR51res              153    154
003800030826     d***  LR51blo              155    156
003900030826     d  LR51fr               252    256
004000030826      *
004100030826      *   V A R I A B I L I   - - - - - - - - - - - - - - - - - - - - *
004200030826      *
004300030826     d $Fine           s              1    inz(*off)
004400030826     d Qcmd            s             80    inz
004500030826     d Qlen            s             15  5 inz(80)
004600030826
004700030826      *===============================================================*
004800030826      *  RIEPILOGO INDICATORI                                         *
004900030826      *---------------------------------------------------------------*
005000030826      * 21    - Comodo                                                *
005100030826      *===============================================================*
005200030826
005300030826     c     *Entry        plist
005400030826     c                   parm                    KPJBA
005500030826      *
005600030826      * Richiamo pgm. "Elenco bolle da consegnare" per creare il wrkf
005700030826     c                   exsr      CallFNLR51
005800030826      *
005900030826      * Se premuto F3 dalla videata di lancio termino il pgm.
006000030826     c     $Fine         cabeq     *on           Fine
006100030826      *
006200030826      * Richiamo pgm. FNLR12R per controllare la quadratura delle
006300030826      *  bolle in buca
006400030826     c                   exsr      CallFNLR12
006500030826      *
006600030826      * Fine
006700030826     c     Fine          tag
006800030826     c                   eval      *inLR = *on
006900030826      *
007000030826      **-------------------------------------------------------------**
007100030826      ** CallFNLR51 ** Richiamo al pgm. FNLR51R (filtro)             **
007200030826      **-------------------------------------------------------------**
007300030826     c     CallFNLR51    BegSr
007400030826      *
007500030826     c                   clear                   FNLR51DS
007600030826     c                   eval      LR51fr = 'WRKF '
007700030826     c                   movel(p)  FNLR51DS      KPJBU
007800030826      *
007900030826     c                   call      'FNLR51R'
008000030826     c                   parm                    KPJBA
008100030826      *
008200030826     c                   movel     KPJBU         FNLR51DS
008300030826if  1c                   if        LR51fr = '*F3  '
008400030826     c                   eval      $Fine = *on
008500030826e   1c                   endif
008600030826      *
008700030826     c                   EndSr
008800030826      *
008900030826      **-------------------------------------------------------------**
009000030826      ** CallFNLR12 ** Richiamo al pgm. FNLR12R (elaborazione wrkf)  **
009100030826      **-------------------------------------------------------------**
009200030826     c     CallFNLR12    BegSr
009300030826      *
009400030826     c                   move      LR51pou       D12pou
009500030826     c                   movel(p)  FNLR12ds      KPJBU
009600030826      *
009700030826     c                   call      'FNLR12R'
009800030826     c                   parm                    KPJBA
009900030826      *
010000030826      * cancellazione del work-file in QTEMP
010100030826     c                   call      'QCMDEXC'                            21
010200030826     c                   parm      $Cmd(1)       Qcmd
010300030826     c                   parm                    Qlen
010400030826      *
010500030826     c                   EndSr
010600030826
010700030826**   $Cmd
010800030826DLTF       FILE(QTEMP/WFCBB*)
