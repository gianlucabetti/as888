000100131128       //---------------------------------------------------------------
000200140129       //?FNLRX4R - Pulisce file TELEFONATE AUT
000300131128       //---------------------------------------------------------------
000400131128
000500131128       //--------------------------------------------------------------
000600131128       //?Specifiche di controllo.                                     ?
000700131128       //--------------------------------------------------------------
000800131128     h decedit('0,') datedit(*ymd/) option(*nodebugio)
000900140129     h alwnull(*inputonly)
001000131128
001100131128       //---------------------------------------------------------------
001200131128       //?Dichiarazione file.
001300131128       //---------------------------------------------------------------
001400131128
001500131128       //?File Telefonate AUT
001600140129     fFICAU00F  if   e             disk
001700131128
001800131128       //---------------------------------------------------------------
001900131128       //?Definizione costanti.
002000131128       //---------------------------------------------------------------
002100131128
002200131128       //---------------------------------------------------------------
002300131128       //?Definizione schiere.
002400131128       //---------------------------------------------------------------
002500131128
002600131128       //---------------------------------------------------------------
002700131128       //?Definizione aree dati.
002800131128       //---------------------------------------------------------------
002900131128
003000131128       //---------------------------------------------------------------
003100131128       //?Definizione strutture dati.
003200131128       //---------------------------------------------------------------
003300131128
003400131128       //?kpjba?
003500131128     d KPJBA         e ds
003600131128
003700131128       //?Parametri da chiamante
003800140129     d FNLRX4DS      e ds
003900131128
004000131128       //---------------------------------------------------------------
004100131128       //?Definizione variabili globali.
004200131128       //---------------------------------------------------------------
004300131128
004400131128       //?Flags booleani
004500131128     d wEoFf1          s               n   inz(*off)
004600131128
004700131128       //---------------------------------------------------------------
004800131128       //?Definizione procedure esterne.
004900131128       //---------------------------------------------------------------
005000131128
005100131128       //---------------------------------------------------------------
005200131128       //?Definizione prototipi.
005300131128       //---------------------------------------------------------------
005400131128
005500131128       //---------------------------------------------------------------
005600131128       //?Definizione key-list.
005700131128       //---------------------------------------------------------------
005800131128
005900131128       //---------------------------------------------------------------
006000131128       //?Main.
006100131128       //---------------------------------------------------------------
006200131128
006300131128     c     *Entry        plist
006400131128     c                   parm                    KPJBA
006500140129     c                   parm                    FNLRX4DS
006600131128
006700131128      /free
006800131128
006900131128       //?Operazioni iniziali?
007000131128       exsr RoutInz;
007100131128
007200131128       //?Elabora?
007300131128       exsr Elabora;
007400131128
007500131128       //?Operazioni finali?
007600131128       exsr RoutEnd;
007700131128
007800131128       //--------------------------------------------------------------
007900131128       //?Operazioni iniziali.                                         ?
008000131128       //--------------------------------------------------------------
008100131128       BEGSR  RoutInz;
008200131128
008300131128         *inLR = *on;
008400131128
008500140129         OX4err = *off;
008600140129         clear OX4msg;
008700131128
008800131128         exec sql set option dynusrprf = *owner, closqlcsr = *endmod;
008900131128
009000131128       ENDSR;
009100131128
009200131128       //--------------------------------------------------------------
009300131128       //?Elabora.
009400131128       //--------------------------------------------------------------
009500131128       BEGSR  Elabora;
009600131128
009700131128         wEoFf1 = *off;
009800131128
009900140129       //?Cancello a parità di Distinta
010000131128         exec sql
010100140129         DELETE
010200140129         FROM   ficau00f
010300140129         WHERE  CAUfgs = :IX4fgs and CAUnfv = :IX4nfv;
010400131128
010500131128       ENDSR;
010600131128
010700131128       //--------------------------------------------------------------
010800131128       //?Operazioni finali.                                           ?
010900131128       //--------------------------------------------------------------
011000131128       BEGSR  RoutEnd;
011100131128
011200131128         return;
011300131128
011400131128       ENDSR;
011500131128
011600131128      /end-free
