000100160624      //************************************************************************
000101160624      //
000102160624      // Questo programma sostituisce quello di Proj per Laguna
000103160624      // PJAI1S3/SRCPGM(PJXX038R)
000107160624      //
000108160624      // Mi interessano:
000109160624      // - le fatture di vendita;
000110160624      // - le note di accredito a clienti;
000111160624      // - le auto fatture di acquisto.
000112160624      //
000113160624      //************************************************************************
000114160624
000115160624      /COPY GAITRASRC/SRCCONST,BRTLEHSPEC
000116160714       CTL-OPT ACTGRP(*CALLER) BNDDIR('YCO');
000135160624
000136160624      //************************************************************************
000137160624      //
000138160624      // Strutture.
000139160624      //
000140160624      //************************************************************************
000144160713
000145160713       DCL-DS this QUALIFIED;
000147160624         registrazioneNumeroAssoluto PACKED(9);
000154160624         idLaguna ZONED(10);
000159160624       END-DS;
000160160624
000161160624      //************************************************************************
000162160624      //
000163160624      // Prototipi.
000164160624      //
000165160624      //************************************************************************
000166160624
000169160714       /COPY GAITRASRC/SRCPROTOPR,YDOCFLOW
000170160624
000171160624      //************************************************************************
000172160624      //
000173160624      // Parametri.
000174160624      //
000175160624      //************************************************************************
000176160624
000177160624       DCL-PI Pjxx038r ;
000178160624         piSocieta CHAR(3) CONST;
000179160624         piComando CHAR(15) CONST;
000180160624         piParametri CHAR(44) DIM(70) CONST;
000181160624         piErrore CHAR(1);
000182160624         piRet CHAR(32);
000183160624       END-PI ;
000184160624
000185160624      //************************************************************************
000186160624      //
000187160624      // Opzioni SQL.
000188160624      //
000189160624      //************************************************************************
000190160624
000191160624       EXEC SQL SET OPTION SQLCA = *NO;
000192160624
000193160624      //************************************************************************
000194160624      //
000195160624      // Main.
000196160624      //
000197160624      //************************************************************************
000198160624
000199160624       piErrore = '0';
000200160624
000201160624       IF piComando <> 'VIEW';
000202160624         RETURN;
000203160624       ENDIF;
000204160624
000205160624       RESET this;
000207160624       this.idLaguna = %DEC(piParametri(2):10:0);
000208160624       this.registrazioneNumeroAssoluto = this.idLaguna;
000209160713
000210160714       DocFlow_DspDocumento( 0 : this.registrazioneNumeroAssoluto );
000300160624
000301160624       RETURN;
000302160624
000303160624      //************************************************************************
000304160624      //
000305160624      // Inizializzazioni.
000306160624      //
000307160624      //************************************************************************
000308160624
000309160624       BEGSR *INZSR;
000310160624
000313160624       ENDSR;
