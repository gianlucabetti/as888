000100081205     D*--------------------------------------------------
000200081205     D* Procedure name: CBI_BonificoEstero_init
000300081205     D* Purpose:        Inizializza il modulo.
000400081205     D* Returns:        Esito.
000500081205     D*--------------------------------------------------
000600081205     D CBI_BonificoEstero_init...
000700081205     D                 PR            10I 0
000800081205     D  piStartCommitControl...
000900081205     D                                 N   CONST
001000081205
001100081205     D*--------------------------------------------------
001200081205     D* Procedure name: CBI_BonificoEstero_finalize
001300081205     D* Purpose:        Chiude il modulo.
001400081205     D* Returns:        Esito.
001500081205     D*--------------------------------------------------
001600081205     D CBI_BonificoEstero_finalize...
001700081205     D                 PR            10I 0
001800081205
001900081205     D*--------------------------------------------------
002000081205     D* Procedure name: CBI_BonificoEstero_newFlusso
002100081205     D* Purpose:        Nuovo flusso.
002200081205     D* Returns:        Esito.
002300081205     D* Parameter:      piMittente => codice SIA dell'Azienda mittente
002400081205     D* Parameter:      piRicevente => codice ABI Banca Ordinante
002500081205     D* Parameter:      piNomeSupporto => campo di libera composizione da p...
002600081205     D*                          arte del mittente; dev'essere univoco nell...
002700081205     D*                          'ambito della data di creazione e a parità...
002800081205     D*                           di mittente e ricevente
002900081205     D* Parameter:      piADisposizione => campo a disposizione del mittente
003000081205     D*--------------------------------------------------
003100081205     D CBI_BonificoEstero_newFlusso...
003200081205     D                 PR            10I 0
003300081205     D  piMittente                    5A   CONST
003400081205     D  piRicevente                   5S 0 CONST
003500081205     D piNomeSupporto                20A   CONST
003600081205     D  piADisposizione...
003700081205     D                                9A   CONST
003800081205     D                                     OPTIONS(*NOPASS)
003900081205
004000081205     D*--------------------------------------------------
004100081205     D* Procedure name: CBI_BonificoEstero_endFlusso
004200081205     D* Purpose:        Fine flusso.
004300081205     D* Returns:        Esito.
004400081205     D* Parameter:      piCommitRollback => *ON = commit, *OFF = rollback.
004500081205     D*--------------------------------------------------
004600081205     D CBI_BonificoEstero_endFlusso...
004700081205     D                 PR            10I 0
004800081205     D  piCommitRollback...
004900081205     D                                 N   CONST
005000081205     D                                     OPTIONS(*NOPASS)
005100081205
005200081209     D*--------------------------------------------------
005300081209     D* Procedure name: CBI_BonificoEstero_newDisposizione
005400081209     D* Purpose:        Nuova disposizione di pagamento.
005500081209     D* Returns:        Esito.
005600081209     D* Parameter:      BGM_1004 => identificativo univoco dellordine...
005700081209     D*                           di bonifico attribuito dal cliente ordina...
005800081209     D*                          nte (questo stesso riferimento deve essere...
005900081209     D*                           restituito dalla Banca Ordinante al clien...
006000081209     D*                          te nella contabile di addebito e nella des...
006100081209     D*                          crizione del movimento sulla rendicontazio...
006200081209     D*                          ne conti correnti tipo-rec. 62 pos.87-120 ...
006300081209     D*                          preceduto dalla costante PAYORDREF a  po...
006400081209     D*                          s. 78-86)
006500081209     D* Parameter:      DTM_1_2380 => data creazione della disposizione
006600081209     D* Parameter:      DTM_2_2005 => se"203" é la data richiesta dal clien...
006700081209     D*                          te per l'esecuzione  dellordine se "228" ...
006800081209     D*                            é la valuta di addebito richiesta dal cl...
006900081209     D*                          iente
007000081209     D* Parameter:      DTM_2_2380 => data di esecuzione/data valuta debitore
007100081209     D* Parameter:      DTM_3_2005 => se 140 é la data valuta di accredit...
007200081209     D*                          o richiesta per il beneficiario; se 227 ...
007300081209     D*                          é la data di disponibilità richiesta press...
007400081209     D*                          o la Banca del Beneficiario
007500081209     D* Parameter:      DTM_3_2380 => valuta/disponibilità beneficiario
007600081209     D* Parameter:      BUS_3279 => "IN" con significato di "internazionale...
007700081209     D*                          ", quando la Banca del Beneficiario é una ...
007800081209     D*                          Banca Estera; DO con significato di dom...
007900081209     D*                          estico quando laccredito é su Banca Ital...
008000081209     D*                          iana (o filiale italiana di Banca Estera) ...
008100081209     D*                          cioè quando la transazione avviene tra ban...
008200081209     D*                          che in Italia in cui almeno uno dei due co...
008300081209     D*                          nti sia di pertinenza estera
008400081209     D* Parameter:      BUS_4487 => può assumere  il valore  "1  " con sign...
008500081209     D*                          ificato di  "Clean Payment"
008600081209     D* Parameter:      MOA_5025 => definisce la relazione fra la divisa in...
008700081209     D*                           cui é espresso limporto del bonifico e l...
008800081209     D*                          a divisa di accredito; "9 quando le due d...
008900081209     D*                          ivise coincidono, 57 quando differiscono.
009000081209     D* Parameter:      MOA_5004 => Importo del bonifico
009100081209     D* Parameter:      MOA_6345 => divisa  in cui é espresso limporto, se...
009200081209     D*                          condo la codifica ISO -  4217 (cfr. Append...
009300081209     D*                          ice D).
009400081209     D* Parameter:      CUX_6345_contoAddebito => codice divisa del conto d...
009500081209     D*                          i addebito secondo la codifica ISO - 4217 ...
009600081209     D*                          (cfr. Appendice D); deve essere diversa da...
009700081209     D*                          lla divisa specificata nel campo MOA_6345 ...
009800081209     D*                          (pos, 32-34)
009900081209     D* Parameter:      CUX_5402_contoAddebito => tasso di cambio concordat...
010000081209     D*                          o per laddebito del controvalore dellimp...
010100081209     D*                          orto; questo campo è da valorizzare solo i...
010200081209     D*                          n caso di tasso di cambio preventivamente ...
010300081209     D*                          concordato con la banca  ordinante
010400081209     D* Parameter:      ibanOrdinante => Coordinate IBAN Ordinante
010500081209     D* Parameter:      bicOrdinante => BIC Ordinante
010600081209     D* Parameter:      ibanBeneficiario => Coordinate IBAN Beneficiario, o...
010700081209     D*                          ve disponibile, o altra coordinata
010800081209     D* Parameter:      bicBeneficiario => BIC Beneficiario
010900081209     D* Parameter:      NAD_3124_spezzone1 => Ragione sociale beneficiario
011000081209     D* Parameter:      NAD_3124_spezzone2 => Indirizzo beneficiario
011100081209     D* Parameter:      NAD_3124_spezzone3 => Piazza beneficiario
011200081209     D* Parameter:      FTX_C108_segmento1 => Testo libero 1 di 4
011300081209     D*                                       Informazioni per il beneficiario
011400081209     D* Parameter:      FTX_C108_segmento2 => Testo libero 2 di 4
011500081209     D*                                       Informazioni per il beneficiario
011600081209     D* Parameter:      FTX_C108_segmento3 => Testo libero 3 di 4
011700081209     D*                                       Informazioni per il beneficiario
011800081209     D* Parameter:      FTX_C108_segmento4 => Testo libero 4 di 4
011900081209     D*                                       Informazioni per il beneficiario
012000081212     D* Parameter:      FTX_4451 => Può assumere i seguenti valori:
012100090114     D*                             "CVA" (Solo causale valutaria)
012200090114     D*                             "CDV" (Cessione divisa tra residenti)
012300090114     D*                             "EMI" (Emissione e regolamento di CVS)
012400081212     D*                             "INF" (Inferiore a limite CVS)
012500081212     D*                             "SNR" (Soggetto non residente)
012600081212     D* Parameter:      causaleValutaria => causale valutaria - codice UIC
012700081212     D* Parameter:      codicePaeseBeneficiario => Paese del beneficiario, secondo la codifica UIC
012800090114     D* Parameter:      controvaloreInEuro => Controvalore in euro.
012900081212     D*--------------------------------------------------
013000081209     D CBI_BonificoEstero_newDisposizione...
013100081209     D                 PR            10I 0
013200081209     D  BGM_1004                     34A   CONST
013300081209     D  DTM_1_2380                     D   DATFMT(*ISO)
013400081209     D                                     CONST
013500081209     D                                     OPTIONS(*OMIT)
013600081209     D  DTM_2_2005                    3A   CONST
013700081209     D                                     OPTIONS(*OMIT)
013800081209     D  DTM_2_2380                     D   DATFMT(*ISO)
013900081209     D                                     CONST
014000081209     D                                     OPTIONS(*OMIT)
014100081209     D  DTM_3_2005                    3A   CONST
014200081209     D                                     OPTIONS(*OMIT)
014300081209     D  DTM_3_2380                     D   DATFMT(*ISO)
014400081209     D                                     CONST
014500081209     D                                     OPTIONS(*OMIT)
014600081209     D  BUS_3279                      3A   CONST
014700081209     D  BUS_4487                      3A   CONST
014800081209     D                                     OPTIONS(*OMIT)
014900081209     D  MOA_5025                      3A   CONST
015000081209     D  MOA_5004                     15P 2 CONST
015100081209     D  MOA_6345                      3A   CONST
015200081209     D  CUX_6345_contoAddebito...
015300081209     D                                3A   CONST
015400081209     D                                     OPTIONS(*OMIT)
015500081209     D  CUX_5402_contoAddebito...
015600081209     D                               11P 5 CONST
015700081209     D                                     OPTIONS(*OMIT)
015800081209     D  ibanOrdinante                34A   CONST
015900081209     D  bicOrdinante                 11A   CONST
016000081209     D                                     OPTIONS(*OMIT)
016100081209     D  ibanBeneficiario...
016200081209     D                               34A   CONST
016300081209     D  bicBeneficiario...
016400081209     D                               11A   CONST
016500081209     D                                     OPTIONS(*OMIT)
016600081209     D  NAD_3124_spezzone1...
016700081209     D                               35A   CONST
016800081209     D  NAD_3124_spezzone2...
016900081209     D                               35A   CONST
017000081209     D  NAD_3124_spezzone3...
017100081209     D                               32A   CONST
017200081209     D  FTX_C108_segmento1...
017300081209     D                               35A   CONST
017400081209     D  FTX_C108_segmento2...
017500081209     D                               35A   CONST
017600081209     D                                     OPTIONS(*OMIT)
017700081209     D  FTX_C108_segmento3...
017800081209     D                               35A   CONST
017900081209     D                                     OPTIONS(*OMIT)
018000081209     D  FTX_C108_segmento4...
018100081209     D                               35A   CONST
018200081209     D                                     OPTIONS(*OMIT)
018300081212     D  FTX_4451...
018400081215     D                                3A   VALUE
018500081212     D  causaleValutaria...
018600090109     D                                5A   VALUE
018700081212     D  codicePaeseBeneficiario...
018800081212     D                                3S 0 CONST
018900090114     D  controvaloreInEuro...
019000090114     D                               15P 2 CONST
019100090224     D  nomeDellaBancaBeneficiaria...
019200090224     D                               35A   CONST
019300090224     D                                     OPTIONS(*NOPASS)
019400090224     D  localitaDelloSportelloBeneficiario...
019500090224     D                               35A   CONST
019600090224     D                                     OPTIONS(*NOPASS)
019700090224
019800081209     D*--------------------------------------------------
019900081209     D* Procedure name: CBI_BonificoEstero_endDisposizione
020000081209     D* Purpose:        Fine disposizione di pagamento.
020100081209     D* Returns:        Esito.
020200081209     D*--------------------------------------------------
020300081209     D CBI_BonificoEstero_endDisposizione...
020400081209     D                 PR            10I 0
020500081209
