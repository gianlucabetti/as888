000100970526     H*------------------------------------------------------------------------*
000200141015     H* Richiamo *1R3
000300970526     H*------------------------------------------------------------------------*
000400140627     h decedit('0,') datedit(*dmy/) option(*nodebugio)
000500140702     h dftactgrp(*no)
000600970526     F*------------------------------------------------------------------------*
000700970526     F* DATA BASE
000800970526     F*------------------------------------------------------------------------*
000900970526     D*------------------------------------------------------------------------*
001000970526     D* SCHIERE
001100970526     D*------------------------------------------------------------------------*
001200970526     D*------------------------------------------------------------------------*
001300970526     D* INPUT
001400970526     D*------------------------------------------------------------------------*
001500970526     D*------------
001600970526     D* ARCHITETTURA
001700970526     D*------------
001800970526     D KPJBA         E DS
001900120928
002000121003     d Status         sds
002100121003     d  SDSpgm           *proc
002200121003     d  SDSprm           *parms
002300121003     d  SDSuser              254    263
002400121003
002500140904     d DS7GIR2         ds
002600140701     d pIn_DatDa                      8s 0
002700140701     d pIn_DatA                       8s 0
002800140701     d pIn_Ksc                        8
002900140701     d pIn_Tip                        2
003000140904     d pIn_ISV                        2
003100140702     d pIn_Modo                       1
003200141015     d pOut_Esito                     2s 0
003300140627
003400970526     C*------------------------------------------------------------------------*
003500000303     C* MAIN LINES
003600970526     C*------------------------------------------------------------------------*
003700140630     C     *entry        PLIST
003800140630     C                   PARM                    KPJBA
003900140702     C*
004000141015     C* valorizzo la DS / parametri per simulare un lancio con tutto
004100141015     C                   EVAL      pIn_DatDa = 0
004200141015     C                   EVAL      pIn_DatA  = 0
004300141015     C                   EVAL      pIn_Ksc   = *blank
004400141015     C                   EVAL      pIn_Tip   = *blank
004500141015     C                   EVAL      pIn_ISV   = *blank
004600141015     C                   EVAL      pIn_Modo  = 'I'
004700141015     C                   EVAL      pOut_Esito = 0
004800141015     C*
004900141015     C* ciclo finché non ho premuto qualcosa per uscire
005000141015     C                   DOU       pOut_esito <> 6
005100140702     C* modo interattivo
005200140702     C                   EXSR      ModoInteratt
005300141015     C*
005400141015     C* vediamo un po' il risultato...
005500141015     C                   EVAL      DS7GIR2 = Kpjbu
005600141015     C                   ENDDO
005700970526     C*
005800970526     C* FINE PGM
005900141015     C                   SETON                                        LR
006000140702     C*------------------------------------------------------------------------*
006100140702     C* Modo interattivo
006200140702     C*------------------------------------------------------------------------*
006300140702     C     ModoInteratt  BEGSR
006400140703     C*
006500140703     C* eseguo l'estrazione
006600140703     C                   EXSR      Esegui
006700140702     C*
006800140702     C* mostro il risultato su SFL
006900141015     C                   EVAL      Kpjbu = DS7GIR2
007000140904     C                   CALL      'TIS7GI1R4'
007100140702     C                   parm                    KPJBA
007200140702     C*
007300140702     C                   ENDSR
007400140703     C*------------------------------------------------------------------------*
007500140703     C* ESEGUI - OPERAZIONI DI LANCIO PGM
007600140703     C*------------------------------------------------------------------------*
007700140703     C     ESEGUI        BEGSR
007800140703     C*
007900140703     C* chiamo
008000140904     C                   CALL      'TIS7GI1R2'
008100140703     c                   parm                    pIn_DatDa
008200140703     c                   parm                    pIn_DatA
008300140703     c                   parm                    pIn_Ksc
008400140703     c                   parm                    pIn_Tip
008500140904     c                   parm                    pIn_ISV
008600140703     c                   parm                    pIn_Modo
008700140703     c                   parm                    pOut_Esito
008800140703     C*
008900140703     C                   ENDSR
