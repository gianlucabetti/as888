000100981113             PGM        PARM(&KPJBA &DSLV45)
000200000000             DCL        VAR(&KPJBA) TYPE(*CHAR) LEN(502)
000300050913             DCL        VAR(&DSLV45) TYPE(*CHAR) LEN(689)
000400940311
000500940311             DCL        VAR(&PARAST) TYPE(*CHAR) LEN(1) /* ambiente +
000600940311                          stampa testO: C-clienti V-visite */
000700940311
000800940311             DCL        VAR(&PARTST) TYPE(*CHAR) LEN(1) /* Tipo +
000900940311                          stampa testo: con o senza rif.altra +
001000940311                          tariffa */
001100940311
001200940311             DCL        VAR(&NCO) TYPE(*DEC) LEN(3 0) /* Numero +
001300940311                          copie */
001400060601
001500060601             DCL        VAR(&LIN) TYPE(*CHAR) LEN(1) /* Lingua +
001600060601                          di stampa */
001700940311
001800000000
001900981113             CHGVAR     VAR(&PARAST) VALUE(%SST(&DSLV45 76 1))
002000981113             CHGVAR     VAR(&PARTST) VALUE(%SST(&DSLV45 134 1))
002100981113             CHGVAR     VAR(&NCO) VALUE(%SST(&DSLV45 104 3))
002200060601             CHGVAR     VAR(&LIN) VALUE(%SST(&DSLV45 123 1))
002300940311
002400900326
002500060601 /* OVRPRTF DA FARE SUI FILES DI STAMPA IN BASE ALLA LINGUA SCELTA */
002600060601 /* ITALIANO */
002700060601             IF         COND(&LIN *EQ 'I') THEN(DO)
002800060606             OVRPRTF    FILE(TNTA49P) FORMTYPE('LET1') COPIES(&NCO) +
002900060606                          USRDTA(TARIFFA)
003000060601             ENDDO
003100060601 /* INGLESE */
003200060601             IF         COND(&LIN *EQ '2') THEN(DO)
003300060606             OVRPRTF    FILE(TNTA49P) TOFILE(TNTA49P2) +
003400060714                          FORMTYPE('LET1') COPIES(&NCO) USRDTA(TARIFF)
003500060601             ENDDO
003600060816 /* FRANCESE */
003700060816             IF         COND(&LIN *EQ '3') THEN(DO)
003800060816             OVRPRTF    FILE(TNTA49P) TOFILE(TNTA49P3) +
003900060816                          FORMTYPE('LET1') COPIES(&NCO) USRDTA(TARIF)
004000060816             ENDDO
004100060816 /* TEDESCO */
004200060816             IF         COND(&LIN *EQ '4') THEN(DO)
004300060816             OVRPRTF    FILE(TNTA49P) TOFILE(TNTA49P4) +
004400060816                          FORMTYPE('LET1') COPIES(&NCO) USRDTA(PREIS)
004500060816             ENDDO
004600060606
004700010621             CALL       PGM(TNTA49R) PARM(&KPJBA &DSLV45)
004800060606
004900060606             DLTOVR     FILE(*ALL)
005000060605
005100000000             ENDPGM
