000100060801      *===============================================================*
000200090610     H DFTACTGRP(*NO) BNDDIR('UBBNDDIR') ACTGRP(*CALLER)
000300061127     H decedit('0,') datedit(*dmy/)
000400061127     F*------------------------------------------------------------------------*
000500061127     F* DATA BASE
000600061127     F*------------------------------------------------------------------------*
000700090610     Ftivss00f  IF   E             DISK
000800090609     FPRTF198   O    F  220        PRINTER usropn
000900090608     D*------------------------------------------------------------------------*
001000090610     D/COPY GAITRASRC/SRCPROTOPI,UBUTISGI
001100090610     D/COPY GAITRASRC/SRCPROTOPR,UBUTISGI
001200090610     D
001300090610     D wRigaPrt        S            120
001400061127     C*------------------------------------------------------------------------*
001500061127     C* MAIN LINE
001600061127     C*------------------------------------------------------------------------*
001700061127     C*
001800061204     C*
001900061204     C* Elabora
002000061127     C                   exsr      Procedi
002100061127     C*
002200061127     C* Fine
002300061127     C                   eval      *INLR = *on
002400061127     C*--------------------------------------------------------------------------------------------*
002500061127     C* Procedi - Routine iter di elaborazinoe
002600061127     C*--------------------------------------------------------------------------------------------*
002700061127     C     Procedi       BEGSR
002800061127     C*
002900090610
003000090610      /FREE
003100090610         open PRTF198;
003200090610
003300090610         read tivss00f;
003400090610         dow not %eof(tivss00f);
003500090610            wRigaPrt = *blanks;
003600090610            if vssISV = 'TT';
003700090610               pInSUN = vssSUN;
003800090610               pInKSU = vssKSU;
003900090611               pInRGR = 'S';
004000090610
004100090610               if UBUTISGI_RtvSrvSts(pInSUN:pInKSU:pInRGR:pOutEsito) = 0;
004200090610               endif;
004300090610
004400090610               if pOutEsito = '0';
004500090610                  if UBUTISGI_DisableSgiUsr(pInSUN:pInKSU:pOutEsito) = 0;
004600090610                     wRigaPrt = 'Utente SGI ' + vssSUN + '(' + vssKSU +')' +
004700090610                                ' disabilitato';
004800090610                     except staLista;
004900090610                  endif;
005000090611               else;
005100090611           //     if UBUTISGI_EnableSgiUsr(pInSUN:pInKSU:pOutEsito) = 0;
005200090611           //        wRigaPrt = 'Utente SGI ' + vssSUN + '(' + vssKSU +')' +
005300090611           //                   ' abilitato';
005400090611           //        except staLista;
005500090611           //     endif;
005600090610               endif;
005700090610            endif;
005800090610            read tivss00f;
005900090610         enddo;
006000090610
006100090610         if UBUTISGI_Finalize = 0;
006200090610         endif;
006300090610
006400090610         close PRTF198;
006500090610
006600090610      /END-FREE
006700090610     C*
006800090610     C                   SETON                                        LR
006900090609     C*
007000090609     C                   ENDSR
007100090609     C*------------------------------------------------------------------------*
007200090609     OPRTF198   E            staLista    1
007300090609     O                       wRigaPrt            +1
