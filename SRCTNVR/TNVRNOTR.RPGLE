000100010213     H DECEDIT('0,') DATEDIT(*YMD.)
000200010213
000300010213      **************************************************************************
000400010213      *                                                                        *
000500010213      *          Pulizia TFNTC00F prima di nuova gestione note                 *
000600010213      *                                                                        *
000700010213      *                           F I L T R O                                  *
000800010213      *                                                                        *
000900010213      **************************************************************************
001000010213
001100010213     FTNVRNOTD  CF   E             WORKSTN
001200010213
001300010213     D KPJBA         E DS
001400010213     D CNCR80        E DS
001500010213     D UT§DSE        E DS                  EXTNAME(UT§DSE0F)
001600010216     D PARAM           DS
001700010216     D  VTIPOE                        1
001800010216     D  VSTAMP                        1
001900010213
002000010213      *------------------------------------------------------------------------*
002100010213      *                                                                        *
002200010213      *    OPERAZIONI INIZIALI                                                 *
002300010213      *                                                                        *
002400010213      *------------------------------------------------------------------------*
002500010213
002600010213     C     *ENTRY        PLIST
002700010213     C                   PARM                    KPJBA
002800010213
002900010213      *    Recupero Ragione Sociale Ditta da Emettere a Video
003000010213
003100010213     C                   Z-ADD     1             CODUT
003200010213     C                   CALL      'X§PARUT'
003300010213     C                   PARM                    UT§DSE
003400010213     C                   MOVEL     RAGUT         RSUT
003500010213     C                   MOVEL     REC80         CNCR80
003600010213
003700010213      *    Inizializzo "Simulazione"
003800010213
003900010213     C                   eval      vtipoe = 'S'
004000010216     C                   eval      vstamp = 'S'
004100010213
004200010213      *------------------------------------------------------------------------*
004300010213      *                                                                        *
004400010213      *    ROUTINE PRINCIPALE                                                  *
004500010213      *                                                                        *
004600010213      *------------------------------------------------------------------------*
004700010213
004800010213     C                   do        *hival
004900010213     C                   exfmt     TNVR01
005000010213     C   kc              leave
005100010213
005200010216      *    Controllo Parametri
005300010213
005400010216     C     vtipoe        ifeq      'S'
005500010216     C     vstamp        andeq     'N'
005600010216     C                   seton                                        33
005700010216     C                   iter
005800010216     C                   endif
005900010216
006000010216      *    Lancio Elaborazione (adesso è interattiva)
006100010216
006200010213  +- C                   if        *inkf = *on
006300010213  |  C                   eval      *in01 = *on
006400010213  |  C                   write     TNVR01
006500010213  |
006600010216  |  C                   movel     PARAM         KPJBU
006700040929  |  C                   call      'TNVRNOTR2'
006800010213  |  C                   parm                    KPJBA
006900010213  |
007000010213  |  C                   leave
007100010213  +- C                   endif
007200010213
007300010213     C                   enddo
007400010213
007500010213     C                   eval      *inlr = *on
