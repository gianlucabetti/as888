000100091020       //--------------------------------------------------------------
000200091109       //?Richiamo TIS799R x ogni rec. "TT" nel file TIVSS02L         ?
000300091020       //--------------------------------------------------------------
000400091020
000500091020     h decedit('0,') datedit(*dmy/) option(*nodebugio)
000600091020     h dftactgrp(*no) actgrp('QILE')
000700091020
000800091020       //--------------------------------------------------------------
000900091020       //?Dichiarazione file.                                          ?
001000091020       //--------------------------------------------------------------
001100091020
001200091020     fTIVSS02L  if   e           k disk
001300091020
001400091020       //--------------------------------------------------------------
001500091020       //?Definizione strutture dati.                                  ?
001600091020       //--------------------------------------------------------------
001700091020
001800091020     d TIS799dsI     e ds                  inz
001900091020
002000091020       //--------------------------------------------------------------
002100091020       //?Definizione prototipi procedure.                             ?
002200091020       //--------------------------------------------------------------
002300091020
002400091020       // - T&T: creazione file estratto bolle - Esegue
002500091118     d tis7991r        pr                  extpgm('TIS7991R')
002600091020     d  tis799dsI                          likeds(TIS799dsI)
002700091020
002800091020       //--------------------------------------------------------------
002900091020       //?M A I N - L I N E                                            ?
003000091020       //--------------------------------------------------------------
003100091020
003200091020      /free
003300091020
003400091020       *inLR = *on;
003500091020
003600091020       read  TIVSS000;
003700091020
003800091020       DoW   NOT %eof(TIVSS02L);
003900091020
004000091020         if  VSSisv = 'TT';
004100091118          if VSSksu >= '00230006';
004200091110           if VSSdde <= %dec(%date() : *ISO) and
004300091110              VSSdsc >= %dec(%date() : *ISO);
004400091110                clear  TIS799dsI;
004500091110                SunI99 = VSSsun;
004600091110                KsuI99 = VSSksu;
004700091118                tis7991r ( TIS799dsI );
004800091110           endif;
004900091118          endif;
005000091020         endif;
005100091020
005200091020         read  TIVSS000;
005300091020
005400091020       EndDo;
005500091020
005600091020      /end-free
