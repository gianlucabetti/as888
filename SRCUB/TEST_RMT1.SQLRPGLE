000100120213     h dftactgrp(*no) actgrp('UNO')
000200120213     h decedit('0,') datedit(*dmy/) option(*nodebugio)
000300111128     h alwnull(*inputonly)
000400111128
000500111128       //--------------------------------------------------------------
000600120207       // Dichiarazione file.                                          ?
000700111128       //--------------------------------------------------------------
000800111128
000900170308
001000111128       //--------------------------------------------------------------
001100120207       // Definizione costanti.                                        ?
001200111128       //--------------------------------------------------------------
001300111128
001400111128
001500111128       //--------------------------------------------------------------
001600120207       // Definizione schiere.                                         ?
001700111128       //--------------------------------------------------------------
001800111128
001900111128
002000111128       //--------------------------------------------------------------
002100120207       // Definizione aree dati.                                       ?
002200111128       //--------------------------------------------------------------
002300111128
002400111128
002500111128       //--------------------------------------------------------------
002600120207       // Definizione strutture dati.                                  ?
002700111128       //--------------------------------------------------------------
002800170302
002900170302     d KPJBA         e ds
003000170302
003100170302         // Ricerca/Controllo tabelle (TNTBE)
003200170302     d TIBS02ds      e ds                  inz
003300170302     d   T02mod      e                     inz
003400170302     d   T02cod      e                     inz
003500170302     d   T02ke1      e                     inz
003600170302     d   T02ke2      e                     inz
003700111128
003800111128       //--------------------------------------------------------------
003900120207       // Definizione variabili globali.                               ?
004000111128       //--------------------------------------------------------------
004100111128
004200111128
004300111128       //--------------------------------------------------------------
004400120210       // Definizione procedure usate
004500111128       //--------------------------------------------------------------
004600120207
004700170302       /copy gaitrasrc/srcProtoPR,TIBS02R
004800111128
004900111128       //--------------------------------------------------------------
005000120208       // Definizione key-list.                                        ?
005100111128       //--------------------------------------------------------------
005200111128
005300111128
005400111128       //--------------------------------------------------------------
005500120208       // M A I N - L I N E                                            ?
005600111128       //--------------------------------------------------------------
005700120207
005800120208       // - Operazioni finali
005900111128       exsr  sr_RoutEnd;
006000111128
006100111128       //--------------------------------------------------------------
006200120208       // Operazioni iniziali
006300111128       //--------------------------------------------------------------
006400111128       BEGSR sr_RoutInz;
006500111128
006600111128
006700111128       ENDSR;
006800111128
006900111128       //--------------------------------------------------------------
007000120208       // Operazioni finali
007100111128       //--------------------------------------------------------------
007200111128       BEGSR  sr_RoutEnd;
007300111128
007400120208         // - Uscita
007500170302         *inLR = *on;
007600111128         return;
007700111128
007800111128       ENDSR;
007900170302
008000170302       //--------------------------------------------------------------
008100170302       // *INZSR
008200170302       //--------------------------------------------------------------
008300170302       begsr  *inzsr;
008400170302
008500170302         // recupero dati da tab. VPR  key CTRLOBJ_LOG01
008600170302         // limite data ultimo utilizzo
008700170302         clear kpjbu;
008800170302         T02mod = 'R';
008900170302         T02cod = 'VPR';
009000170302         T02ke1 = 'CTRLOBJ_LOG01';
009100170302         //T02sif = knsif;            (non serve perché quasta è una tab. solo sede)
009200170302         TNTBE_RicercaControllo ( kpjba : tibs02ds );
009300170302         if T02err = *blank;
009400170302         endif;
009500170302
009600170302       endsr;
009700170302
