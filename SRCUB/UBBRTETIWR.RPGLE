000100121217       //==============================================================
000200161107       // Stampa etichetta BRT - Wrapper AFPDS, Zebra
000300121217       //==============================================================
000400141008
000500121217       //--------------------------------------------------------------
000600161107       // Parametri di compilazione (vedi *cmd UBCRTOBJ).              ?
000700121217       //--------------------------------------------------------------
000800121217
000900161107     **
001000161107     ** ISTRUZIONI PER LA COMPILAZIONE
001100161107     **
001200161107     ** 1. Creare il modulo UBBRTETIWR (Opz 15 PDM)
001300161107     ** 2. Creare/Aggiornare il programma di servizio UBBRTETIWR (CRTSRVPGM / UPDSRVPGM)
001400161107     **    con ACTGRP(*caller) e BNDDIR(UBBNDDIR)
001500161107     **    aggiungere nella BNDDIR(UBBNDDIR)
001600161107     ** 3. Visto chi useràa questo Wrapper, non serve l'oggetto programma
001700161107     ** 4. Cancellare il modulo.
001800161107     **
001900121217
002000121217       //--------------------------------------------------------------
002100161103       // Specifiche di controllo.                                     ?
002200121217       //--------------------------------------------------------------
002300121217
002400121217     h decedit('0,') datedit(*dmy/) option(*nodebugio)
002500161107     h bnddir('UBBNDDIR')
002600121217
002700121217       //--------------------------------------------------------------
002800161103       // Dichiarazione file.                                          ?
002900121217       //--------------------------------------------------------------
003000121217
003100121217       //--------------------------------------------------------------
003200161103       // Definizione costanti.                                        ?
003300121217       //--------------------------------------------------------------
003400121217
003500161107
003600121217       //--------------------------------------------------------------
003700161103       // Definizione schiere.                                         ?
003800121217       //--------------------------------------------------------------
003900121217
004000121217
004100121217       //--------------------------------------------------------------
004200161103       // Definizione aree dati.                                       ?
004300121217       //--------------------------------------------------------------
004400121217
004500121217
004600121217       //--------------------------------------------------------------
004700161103       // Definizione strutture dati.                                  ?
004800121217       //--------------------------------------------------------------
004900121217
005000161107       // parametro d'ingresso
005100161107     D UBBRTETIDS    e ds
005200121218
005300161103       // - Status?
005400121217     d Psds           sds
005500121217     d   SDSpgm          *proc
005600121217     d*//JobName             244    253                                         Job name
005700161103     d*//JobUser             254    263
005800121217     d*//JobNumber           264    269s 0                                      Job number
005900121217
006000121217       //--------------------------------------------------------------
006100161103       // Definizione variabili.                                       ?
006200121217       //--------------------------------------------------------------
006300121217
006400161103       // - Campi di comodo?
006500121218
006600121217
006700121217       //--------------------------------------------------------------
006800161103       // Definizione prototipi procedure.                             ?
006900121217       //--------------------------------------------------------------
007000121217
007100161107       /copy gaitrasrc/srcProtoPR,UBBRTETIR
007200161107       /copy gaitrasrc/srcProtoPR,UBBRTETIZR
007300161107
007400161107       /copy gaitrasrc/srcProtoPI,UBBRTETIWR
007500121217
007600121217       //--------------------------------------------------------------
007700161103       // Definizione key-list.                                        ?
007800121217       //--------------------------------------------------------------
007900161104
008000121217
008100121217       //--------------------------------------------------------------
008200161103       // Definizione parametri procedura.                             ?
008300121217       //--------------------------------------------------------------
008400121217
008500161103
008600121217       //--------------------------------------------------------------
008700121217       //?M A I N - L I N E                                            ?
008800121217       //--------------------------------------------------------------
008900121217
009000161014       // Operazioni iniziali?
009100121217       exsr sr_RoutInz;
009200121217
009300161107       // Gestione chiamate
009400161107       exsr  sr_MgmtCalls;
009500121217
009600161103       // - Operazioni finali?
009700121217       exsr sr_RoutEnd;
009800121217
009900121217       //--------------------------------------------------------------
010000161103       // Operazioni iniziali.                                         ?
010100121217       //--------------------------------------------------------------
010200121217       BEGSR  sr_RoutInz;
010300121217
010400161103         // - Controllo parametri d'ingresso
010500161107         UBBRTETIDS = UBBRTETWDS;
010600130208
010700140925       ENDSR;
010800141028
010900141028       //--------------------------------------------------------------
011000161107       // Gestione chiamate
011100141028       //--------------------------------------------------------------
011200161107       BEGSR  sr_MgmtCalls;
011300161014
011400161107         select;
011500161107          when pIn_TpStp = 'A';
011600161107           UBBRTETIR_S(UBBRTETIDS);
011700161107          when pIn_TpStp = 'Z';
011800161107           UBBRTETIZR_S(UBBRTETIDS);
011900161107         endsl;
012000161103
012100161103       ENDSR;
012200121217
012300121217       //--------------------------------------------------------------
012400161104       // Operazioni finali.                                           ?
012500121217       //--------------------------------------------------------------
012600121217       BEGSR  sr_RoutEnd;
012700121217
012800170310         UBBRTETWDS = UBBRTETIDS;
012900161103         // - Chiusura pgm?
013000121217         return;
013100121217
013200121217       ENDSR;
013300121217
