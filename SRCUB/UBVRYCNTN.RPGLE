000100061116      //********************************************************************************************
000200061116      //
000300090205      // Questo programma riceve il nome / indirizzo di sistema remoto e ne verifica l'attuale
000400090205      // connettività
000500061116      //
000600061116      //********************************************************************************************
000700090206     H DFTACTGRP(*NO) ACTGRP(*CALLER) BNDDIR('QC2LE')
000800061117
000900061120     D exceptionMessageID...
001000061120     D                 S              7A   IMPORT('_EXCP_MSGID')
001100061120
001200061120      //********************************************************************************************
001300061120      //
001400061120      // Definizione procedure.
001500061120      //
001600061120      //********************************************************************************************
001700061120     D executeCommand...
001800061120     D                 PR            10I 0 EXTPROC('system')
001900061120     D  command                        *   VALUE OPTIONS(*STRING)
002000061117     D*--------------------------------------------------
002100061117
002200061117
002300061116      //********************************************************************************************
002400061116      //
002500061116      // Dichiarazione parametri.
002600061116      //
002700061116      //********************************************************************************************
002800061116     C     *ENTRY        PLIST
002900090206     C                   PARM                    inRmtSys        256
003000090206     C                   PARM                    outEsito          1
003100061116
003200061116      /FREE
003300061116
003400061116       //*******************************************************************************************
003500061116       //
003600061116       // Main.
003700061116       //
003800061116       //*******************************************************************************************
003900090206
004000090206       outEsito = '0';
004100090206       exceptionMessageID = *blanks;
004200090206       // inRmtSys = '10.68.2.208';
004300061120
004400090206       IF executeCommand('PING RMTSYS(' + '''' + %trim(inRmtSys) + '''' + ')'+
004500090206                         ' MSGMODE(*QUIET *ESCAPE) NBRPKT(1)') <> *zeros;
004600090206          outEsito = '1';
004700090206       ELSE;
004800090206         IF exceptionMessageID <> *blanks;
004900090206            outEsito = '1';
005000090206         ENDIF;
005100061121       ENDIF;
005200061116
005300090206       *INLR = *on;
