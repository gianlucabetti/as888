000100160621--  Generazione SQL
000200160621--  Versione:                  V7R1M0 100423
000300160621--  Generata su:               21/06/16 17:32:23
000400160621--  Database relazionale:      SETRAS
000500160621--  Opzioni standard:          DB2 for i
000600160621
000700160621CREATE VIEW PJBARPTC/ANCBM00L (
000800160621  SOCIETA ,
000900160621  KSC ,
001000160621  ENTITA ,
001100160621  TIPO_APPOGGIO FOR COLUMN TPAPPO     ,
001200160621  DATA_SOTTOSCRIZIONE FOR COLUMN DTINVL     ,
001300160621  TIPO_SEQUENZA FOR COLUMN TPSEQUENZA ,
001400160621  FACOLTA_STORNO_ADDEBITO FOR COLUMN FACOLTASTO ,
001500160621  TIPO_INCASSO_RID FOR COLUMN TPINCASSO  ,
001600160621  IDENTIFICATIVO_CREDITORE FOR COLUMN IDENTCRED  ,
001700160621  IBAN_DEBITORE FOR COLUMN IBAN       )
001800160621  AS
001900160621  SELECT ANCBM00F.CBMSOCIETA AS SOCIETA
002000160621  	
002100160621  		 , ANCBM00F.CBMKSC AS KSC
002200160621  	
002300160621  		 , ANCBM00F.CBMENTITA AS ENTITA
002400160621  	
002500160621  		 , ANCBM00F.CBMTPAPPO AS TIPO_APPOGGIO
002600160621  	
002700160621  		 , ANCBM00F.CBMDTINVL AS DATA_SOTTOSCRIZIONE
002800160621  	
002900160621  		 , ANCBM00F.CBMAVANZAM AS TIPO_SEQUENZA
003000160621  	
003100160621  		 , ANCBM00F.CBMRIMBOR AS FACOLTA_STORNO_ADDEBITO
003200160621  	
003300160621  		 , CASE ANCBM00F.CBMINCSDD WHEN 'V' THEN '1' WHEN 'U' THEN '2' ELSE ANCBM00F.CBMINCSDD END AS TI
003400160621PO_INCASSO_RID
003500160621  	
003600160621  		 , AZSOC01V.CID AS IDENTIFICATIVO_CREDITORE
003700160621  	
003800160621  		 , ANCBA00F.CBAIBAN AS IBAN_DEBITORE
003900160621  	
004000160621  		 	 FROM PJBARGRU/ANCBM00F ANCBM00F
004100160621  	
004200160621  		 	JOIN PJBARGRU/ANCBA00F ANCBA00F ON ANCBM00F.CBMSOCIETA = ANCBA00F.CBASOCIETA
004300160621  	
004400160621  		 	AND ANCBM00F.CBMCLIFOR = ANCBA00F.CBACLIFOR AND ' ' = ANCBA00F.CBAKCC
004500160621  	
004600160621  		 	AND ANCBM00F.CBMKSC = ANCBA00F.CBAKSC AND ANCBM00F.CBMENTITA = ANCBA00F.CBAENTITA
004700160621  	
004800160621  		 	AND ANCBM00F.CBMTPAPPO = ANCBA00F.CBATPAPPO
004900160621  	
005000160621  			JOIN UNITRAGRU/AZSOC01V AZSOC01V ON ANCBM00F.CBMSOCIETA = AZSOC01V.ID_SOCIETA
005100160621  	
005200160621  		 	 WHERE ANCBM00F.CBMCLIFOR = 'C' AND ANCBM00F.CBMSTATO = '0'
005300160621  RCDFMT ANCBM00F   ;
005400160621
005500160621LABEL ON COLUMN PJBARPTC/ANCBM00L
005600160621( SOCIETA IS 'Soc' ,
005700160621  KSC IS 'S/C' ,
005800160621  ENTITA IS 'Riferim.            libero' ,
005900160621  TIPO_APPOGGIO IS 'Tp                  app' ,
006000160621  DATA_SOTTOSCRIZIONE IS 'Inizio              validità' ,
006100160621  TIPO_SEQUENZA IS 'Avanz               mandato' ,
006200160621  FACOLTA_STORNO_ADDEBITO IS 'Facoltà             di                  rimborso' ,
006300160621  IDENTIFICATIVO_CREDITORE IS 'Identificativo      creditore CID' ,
006400160621  IBAN_DEBITORE IS 'IBAN' ) ;
006500160621
006600160621LABEL ON COLUMN PJBARPTC/ANCBM00L
006700160621( SOCIETA TEXT IS 'Società ....................' ,
006800160621  KSC TEXT IS 'Sottoconto .................' ,
006900160621  ENTITA TEXT IS 'Riferimento libero .........' ,
007000160621  TIPO_APPOGGIO TEXT IS 'Tipo appoggio ..............' ,
007100160621  DATA_SOTTOSCRIZIONE TEXT IS 'Data inizio validità .......' ,
007200160621  TIPO_SEQUENZA TEXT IS 'Avanzamento mandato ..' ,
007300160621  FACOLTA_STORNO_ADDEBITO TEXT IS 'Facoltà di rimborso ........' ,
007400160621  TIPO_INCASSO_RID TEXT IS 'Modalità incasso sdd: BtoB/Core' ,
007500160621  IDENTIFICATIVO_CREDITORE TEXT IS 'Identificativo creditore CID.' ,
007600160621  IBAN_DEBITORE TEXT IS 'Coordinata in formato IBAN..' ) ;
007700160621
007800160621GRANT ALTER , REFERENCES , SELECT
007900160621ON PJBARPTC/ANCBM00L TO QPGMR WITH GRANT OPTION ;
008000160621
