000100140708--  Generazione SQL
000200140708--  Versione:                  V7R1M0 100423
000300140708--  Generata su:               08/07/14 17:08:52
000400140708--  Database relazionale:      AS888
000500140708--  Opzioni standard:          DB2 for i
000600140708
000700140708CREATE VIEW P2PROJTST/ANCBM00L (
000800140708  SOCIETA ,
000900140708  KSC ,
001000140708  ENTITA ,
001100140708  TIPO_APPOGGIO FOR COLUMN TPAPPO     ,
001200140708  DATA_SOTTOSCRIZIONE FOR COLUMN DTINVL     ,
001300140708  TIPO_SEQUENZA FOR COLUMN TPSEQUENZA ,
001400140708  FACOLTA_STORNO_ADDEBITO FOR COLUMN FACOLTASTO ,
001500140708  TIPO_INCASSO_RID FOR COLUMN TPINCASSO  ,
001600140708  IDENTIFICATIVO_CREDITORE FOR COLUMN IDENTCRED  ,
001700140708  IBAN_DEBITORE FOR COLUMN IBAN       )
001800140708  AS
001900140708  SELECT ANCBM00F.CBMSOCIETA AS SOCIETA
002000140708  	
002100140708  		 , ANCBM00F.CBMKSC AS KSC
002200140708  	
002300140708  		 , ANCBM00F.CBMENTITA AS ENTITA
002400140708  	
002500140708  		 , ANCBM00F.CBMTPAPPO AS TIPO_APPOGGIO
002600140708  	
002700140708  		 , ANCBM00F.CBMDTINVL AS DATA_SOTTOSCRIZIONE
002800140708  	
002900140708  		 , ANCBM00F.CBMAVANZAM AS TIPO_SEQUENZA
003000140708  	
003100140708  		 , ANCBM00F.CBMRIMBOR AS FACOLTA_STORNO_ADDEBITO
003200140708  	
003300140708  		 , CASE ANCBM00F.CBMINCSDD WHEN 'U' THEN '1' WHEN 'V' THEN '2' ELSE ANCBM00F.CBMINCSDD END AS TI
003400140708PO_INCASSO_RID
003500140708  	
003600140708  		 , AZSOC01V.CID AS IDENTIFICATIVO_CREDITORE
003700140708  	
003800140708  		 , ANCBA00F.CBAIBAN AS IBAN_DEBITORE
003900140708  	
004000140708  		 	 FROM PJBARGRU/ANCBM00F ANCBM00F
004100140708  	
004200140708  		 	JOIN PJBARGRU/ANCBA00F ANCBA00F ON ANCBM00F.CBMSOCIETA = ANCBA00F.CBASOCIETA
004300140708  	
004400140708  		 	AND ANCBM00F.CBMCLIFOR = ANCBA00F.CBACLIFOR AND ' ' = ANCBA00F.CBAKCC
004500140708  	
004600140708  		 	AND ANCBM00F.CBMKSC = ANCBA00F.CBAKSC AND ANCBM00F.CBMENTITA = ANCBA00F.CBAENTITA
004700140708  	
004800140708  		 	AND ANCBM00F.CBMTPAPPO = ANCBA00F.CBATPAPPO
004900140708  	
005000140708  			JOIN UNITRAGRU/AZSOC01V AZSOC01V ON ANCBM00F.CBMSOCIETA = AZSOC01V.ID_SOCIETA
005100140708  	
005200140708  		 	 WHERE ANCBM00F.CBMCLIFOR = 'C' AND ANCBM00F.CBMSTATO = '0'
005300140708  RCDFMT ANCBM00F   ;
005400140708
005500140708LABEL ON COLUMN P2PROJTST/ANCBM00L
005600140708( SOCIETA IS 'Soc' ,
005700140708  KSC IS 'S/C' ,
005800140708  ENTITA IS 'Riferim.            libero' ,
005900140708  TIPO_APPOGGIO IS 'Tp                  app' ,
006000140708  DATA_SOTTOSCRIZIONE IS 'Inizio              validità' ,
006100140708  TIPO_SEQUENZA IS 'Avanz               mandato' ,
006200140708  FACOLTA_STORNO_ADDEBITO IS 'Facoltà             di                  rimborso' ,
006300140708  IDENTIFICATIVO_CREDITORE IS 'Identificativo      creditore CID' ,
006400140708  IBAN_DEBITORE IS 'IBAN' ) ;
006500140708
006600140708LABEL ON COLUMN P2PROJTST/ANCBM00L
006700140708( SOCIETA TEXT IS 'Società ....................' ,
006800140708  KSC TEXT IS 'Sottoconto .................' ,
006900140708  ENTITA TEXT IS 'Riferimento libero .........' ,
007000140708  TIPO_APPOGGIO TEXT IS 'Tipo appoggio ..............' ,
007100140708  DATA_SOTTOSCRIZIONE TEXT IS 'Data inizio validità .......' ,
007200140708  TIPO_SEQUENZA TEXT IS 'Avanzamento mandato ..' ,
007300140708  FACOLTA_STORNO_ADDEBITO TEXT IS 'Facoltà di rimborso ........' ,
007400140708  TIPO_INCASSO_RID TEXT IS 'Modalità incasso sdd: BtoB/Core' ,
007500140708  IDENTIFICATIVO_CREDITORE TEXT IS 'Identificativo creditore CID.' ,
007600140708  IBAN_DEBITORE TEXT IS 'Coordinata in formato IBAN..' ) ;
007700140708
007800140708GRANT ALTER , REFERENCES , SELECT
007900140708ON P2PROJTST/ANCBM00L TO QPGMR WITH GRANT OPTION ;
008000140708
