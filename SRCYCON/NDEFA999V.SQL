000100160909--  Generazione SQL
000200160909--  Versione:                  V7R1M0 100423
000300160909--  Generata su:               09/09/16 10:38:39
000400160909--  Database relazionale:      AS888
000500160909--  Opzioni standard:          DB2 for i
000600160909
000700160909CREATE VIEW PJBARSOC/NDEFA999V (
000800160909  SOCIETA ,
000900160909  FILIALE ,
001000160909  CLIENTE ,
001100160909  DESCRIZIONE_CLIENTE FOR COLUMN DESCR00001 ,
001200160909  DATA_SCADENZA FOR COLUMN DATA_00001 ,
001300160909  NUMERO_EFFETTO FOR COLUMN NUMER00001 ,
001400160909  IMPORTO ,
001500160909  TIPO_EFFETTO FOR COLUMN TIPO_00001 ,
001600160909  TIPO_APPOGGIO FOR COLUMN TIPO_00002 ,
001700160909  ABI ,
001800160909  CAB ,
001900160909  ISTITUTO )
002000160909  AS
002100160909  SELECT NDEFA00F.EFASOCIETA AS SOCIETA, LEFT(NDREG00F.REGUNITA, 3) AS FILIALE, NDEFA00F.EFAKSC AS C
002200160909LIENTE, ANCLN00F.CLNDESBREV AS DESCRIZIONE_CLIENTE, NDEFA00F.EFADTSCA AS DATA_SCADENZA, NDEFA00F.EFA
002300160909NREFF AS NUMERO_EFFETTO, DEC(NDEFA00F.EFAIMPORTO, 9, 2) AS IMPORTO, NDEFA00F.EFAMDPAG AS TIPO_EFFETT
002400160909O, NDEFA00F.EFATPAPPO AS TIPO_APPOGGIO, NDEFA00F.EFAABI AS ABI, NDEFA00F.EFACAB AS CAB, ANACT00F.ACT
002500160909DESIST AS ISTITUTO
002600160909  FROM PJBARSOC/NDEFA00F NDEFA00F
002700160909  JOIN PJBARSOC/NDREG00F NDREG00F ON NDEFA00F.EFASYS = NDREG00F.REGSYS AND NDEFA00F.EFANRASREG = NDR
002800160909EG00F.REGNRASREG
002900160909  JOIN PJBARGRU/ANCLN00F ANCLN00F ON NDEFA00F.EFASOCIETA = ANCLN00F.CLNSOCIETA AND NDEFA00F.EFAKSC =
003000160909 ANCLN00F.CLNKSC AND 0 = ANCLN00F.CLNFILIALE AND '' = ANCLN00F.CLNLINEAV
003100160909  JOIN PJBARGRU/ANACT00F ANACT00F ON NDEFA00F.EFAABI = ANACT00F.ACTABI
003200160909  WHERE NDEFA00F.EFAESCPRES = '1' AND NDEFA00F.EFASTATUS = '1' AND NDEFA00F.EFAESITO = '0'
003300160909  RCDFMT NDEFA999V  ;
003400160909
003500160909LABEL ON TABLE PJBARSOC/NDEFA999V
003600160909  IS 'Effetti attivi esclusi dalla presentazione.' ;
003700160909
003800160909LABEL ON COLUMN PJBARSOC/NDEFA999V
003900160909( SOCIETA IS 'Soc' ,
004000160909  CLIENTE IS 'Sottoc.             cliente                                 ' ,
004100160909  DESCRIZIONE_CLIENTE IS 'Descrizione         breve' ,
004200160909  DATA_SCADENZA IS 'Data                scadenza                                ' ,
004300160909  NUMERO_EFFETTO IS 'Numero              effetto' ,
004400160909  TIPO_EFFETTO IS 'Ti                  po                                      ' ,
004500160909  TIPO_APPOGGIO IS 'Tp                  app' ,
004600160909  ABI IS 'Cd ABI' ,
004700160909  CAB IS 'Cd CAB' ,
004800160909  ISTITUTO IS 'Descrizione' ) ;
004900160909
005000160909LABEL ON COLUMN PJBARSOC/NDEFA999V
005100160909( SOCIETA TEXT IS 'Società ....................' ,
005200160909  CLIENTE TEXT IS 'Sottoconto cliente .........' ,
005300160909  DESCRIZIONE_CLIENTE TEXT IS 'Descrizione breve ..........' ,
005400160909  DATA_SCADENZA TEXT IS 'Data scadenza ..............' ,
005500160909  NUMERO_EFFETTO TEXT IS 'Numero effetto .............' ,
005600160909  TIPO_EFFETTO TEXT IS 'Tipo effetto ...............' ,
005700160909  TIPO_APPOGGIO TEXT IS 'Tipo appoggio ..............' ,
005800160909  ABI TEXT IS 'Codice ABI .................' ,
005900160909  CAB TEXT IS 'Codice CAB .................' ,
006000160909  ISTITUTO TEXT IS 'Descrizione ................' ) ;
006100160909
006200160909GRANT ALTER , REFERENCES , SELECT
006300160909ON PJBARSOC/NDEFA999V TO QPGMR WITH GRANT OPTION ;
006400160909
