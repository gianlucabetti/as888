000100170207--  Generazione SQL
000200170207--  Versione:                  V7R2M0 140418
000300170207--  Generata su:               07/02/17 13:59:07
000400170207--  Database relazionale:      AS888
000500170207--  Opzioni standard:          DB2 for i
000600170207
000700170207CREATE VIEW PJBARSOC/NDIVA1984V (
000800170207  SOCIETA ,
000900170207  DATA_REGISTRAZIONE FOR COLUMN DATA_00001 ,
001000170207  NUMERO_REGISTRAZIONE FOR COLUMN NUMER00001 ,
001100170207  RAGIONE_SOCIALE FOR COLUMN RAGIO00001 ,
001200170207  DATA_DOCUMENTO FOR COLUMN DATA_00002 ,
001300170207  NUMERO_DOCUMENTO FOR COLUMN NUMER00002 ,
001400170207  DIVISA ,
001500170207  IMPONIBILE ,
001600170207  IMPOSTA ,
001700170207  ALIQUOTA ,
001800170207  IMPONIBILE_EUR FOR COLUMN IMPON00001 ,
001900170207  IMPOSTA_EUR FOR COLUMN IMPOS00001 )
002000170207  AS
002100170207  SELECT NDIVA00F.IVASOCIETA AS SOCIETA, NDIVA00F.IVADTREG AS DATA_REGISTRAZIONE, NDIVA00F.IVANRREG
002200170207AS NUMERO_REGISTRAZIONE, ANSOG00F.SOGDES AS RAGIONE_SOCIALE, NDIVA00F.IVADTDOC AS DATA_DOCUMENTO, ND
002300170207IVA00F.IVANRDOC AS NUMERO_DOCUMENTO, NDREG00F.REGDIVISA AS DIVISA, DEC(NDIVA00F.IVAIMPOND * (NDIVA00
002400170207F.IVADARE - NDIVA00F.IVAAVERE), 15, 2) AS IMPONIBILE, DEC(NDIVA00F.IVAIMPORTD * (NDIVA00F.IVADARE -
002500170207NDIVA00F.IVAAVERE), 15, 2) AS IMPOSTA, NDIVA00F.IVAALIQ AS ALIQUOTA, DEC(NDIVA00F.IVAIMPONIB * (NDIV
002600170207A00F.IVADARE - NDIVA00F.IVAAVERE), 15, 2) AS IMPONIBILE_EUR, DEC(NDIVA00F.IVAIMPORTO * (NDIVA00F.IVA
002700170207DARE - NDIVA00F.IVAAVERE), 15, 2) AS IMPOSTA_EUR
002800170207  	FROM PJBARSOC/NDIVA00F NDIVA00F
002900170207  	JOIN PJBARSOC/NDREG00F NDREG00F ON NDIVA00F.IVASYS = NDREG00F.REGSYS AND NDIVA00F.IVANRASREG = ND
003000170207REG00F.REGNRASREG
003100170207  	JOIN PJBARGRU/ANFRN00F ANFRN00F ON NDIVA00F.IVASOCIETA = ANFRN00F.FRNSOCIETA AND NDIVA00F.IVAKSCC
003200170207P = ANFRN00F.FRNKSC AND 0 = ANFRN00F.FRNFILIALE
003300170207  	JOIN PJBARGRU/ANSOG00F ANSOG00F ON ANFRN00F.FRNSOGG = ANSOG00F.SOGSOGG
003400170207  	WHERE NDIVA00F.IVATPREG = '1' AND NDIVA00F.IVALIBRO = '984' AND NDIVA00F.IVADTREG > '2015-12-31'
003500170207
003600170207  RCDFMT NDIVA1984V ;
003700170207
003800170207LABEL ON TABLE PJBARSOC/NDIVA1984V
003900170207  IS 'Acquisti extra UE.' ;
004000170207
004100170207LABEL ON COLUMN PJBARSOC/NDIVA1984V
004200170207( SOCIETA IS 'Soc' ,
004300170207  DATA_REGISTRAZIONE IS 'Data                registraz.' ,
004400170207  NUMERO_REGISTRAZIONE IS 'Numero              registraz.' ,
004500170207  RAGIONE_SOCIALE IS 'Ragione             sociale' ,
004600170207  DATA_DOCUMENTO IS 'Data                documento' ,
004700170207  NUMERO_DOCUMENTO IS 'Numero              documento' ,
004800170207  DIVISA IS 'Div' ,
004900170207  ALIQUOTA IS 'Aliq.' ) ;
005000170207
005100170207LABEL ON COLUMN PJBARSOC/NDIVA1984V
005200170207( SOCIETA TEXT IS 'Società ....................' ,
005300170207  DATA_REGISTRAZIONE TEXT IS 'Data registrazione .........' ,
005400170207  NUMERO_REGISTRAZIONE TEXT IS 'Numero registrazione .......' ,
005500170207  RAGIONE_SOCIALE TEXT IS 'Ragione sociale ............' ,
005600170207  DATA_DOCUMENTO TEXT IS 'Data documento .............' ,
005700170207  NUMERO_DOCUMENTO TEXT IS 'Numero documento ...........' ,
005800170207  DIVISA TEXT IS 'Divisa .....................' ,
005900170207  ALIQUOTA TEXT IS 'Aliquota ...................' ) ;
006000170207
006100170207GRANT SELECT
006200170207ON PJBARSOC/NDIVA1984V TO PUBLIC ;
006300170207
006400170207GRANT ALTER , REFERENCES , SELECT
006500170207ON PJBARSOC/NDIVA1984V TO QPGMR WITH GRANT OPTION ;
006600170207
