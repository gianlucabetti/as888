000100161122--  Generazione SQL
000200161122--  Versione:                  V7R1M0 100423
000300161122--  Generata su:               22/11/16 10:16:30
000400161122--  Database relazionale:      AS888
000500161122--  Opzioni standard:          DB2 for i
000600161122
000700161122CREATE TABLE PJBARGRU/YBLS_PROPOSTE_BLOCCO FOR SYSTEM NAME YBLSPR00F (
000800161122  ID_PROPOSTA FOR COLUMN IDPROPOSTA INTEGER GENERATED BY DEFAULT AS IDENTITY (
000900161122  START WITH 1 INCREMENT BY 1
001000161122  NO MINVALUE NO MAXVALUE
001100161122  NO CYCLE NO ORDER
001200161122  CACHE 20 )
001300161122  ,
001400161122  DATA_PROPOSTA FOR COLUMN DATAPROP   DATE NOT NULL ,
001500161122  TIPO_PROPOSTA FOR COLUMN TIPOPROP   CHAR(1) CCSID 1144 DEFAULT NULL ,
001600161122  DATA_LIMITE_SCADUTO FOR COLUMN DATASCAD   DATE NOT NULL ,
001700161122  ID_SOCIETA FOR COLUMN SOCIETA    CHAR(3) CCSID 1144 DEFAULT NULL ,
001800161122  ID_UNITA FOR COLUMN UNITA      CHAR(3) CCSID 1144 DEFAULT NULL ,
001900161122  PARTITA_IVA FOR COLUMN PIVA       CHAR(20) CCSID 1144 DEFAULT NULL ,
002000161122  CODICE_FISCALE FOR COLUMN CODFISC    CHAR(20) CCSID 1144 DEFAULT NULL ,
002100161122  ID_CLIENTE FOR COLUMN CODCLI     CHAR(8) CCSID 1144 DEFAULT NULL ,
002200161122  IMPORTO_SCADUTO_INIZIALE FOR COLUMN IMPSCAINI  DECIMAL(15, 2) NOT NULL ,
002300161122  IMPORTO_SCADUTO_ATTUALE FOR COLUMN IMPSCAATT  DECIMAL(15, 2) NOT NULL ,
002400161122  IMPORTO_ESPOSIZIONE_ATTUALE FOR COLUMN IMPESPATT  DECIMAL(15, 2) NOT NULL ,
002500161122  TIME_UPD_PROPOSTA FOR COLUMN TMUPDPROP  TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP )
002600161122
002700161122  RCDFMT YBLS_00001 ;
002800161122
002900161122ALTER TABLE PJBARGRU/YBLS_PROPOSTE_BLOCCO
003000161122  ADD CONSTRAINT PJBARGRU/Q_PJBARGRU_YBLSPR00F_IDPROPOSTA_00001
003100161122  UNIQUE( ID_PROPOSTA ) ;
003200161122
003300161122ALTER TABLE PJBARGRU/YBLS_PROPOSTE_BLOCCO
003400161122  ADD CONSTRAINT PJBARGRU/Q_PJBARGRU_YBLSPR00F_SOCIETA_00001
003500161122  UNIQUE( ID_SOCIETA , DATA_PROPOSTA , ID_CLIENTE ) ;
003600161122
003700161122ALTER TABLE PJBARGRU/YBLS_PROPOSTE_BLOCCO
003800161122  ADD CONSTRAINT PJBARGRU/Q_PJBARGRU_YEOGP00F_IDPROPOSTA_0001
003900161122  CHECK( ID_PROPOSTA <> ''  ) ;
004000161122
004100161122ALTER TABLE PJBARGRU/YBLS_PROPOSTE_BLOCCO
004200161122  ADD CONSTRAINT PJBARGRU/Q_PJBARGRU_YEOGP00F_DTPROPOSTA_0001
004300161122  CHECK( DATA_PROPOSTA > '0001-01-01'  ) ;
004400161122
004500161122LABEL ON TABLE PJBARGRU/YBLS_PROPOSTE_BLOCCO
004600161122  IS 'DV 2460 BLOCCO SERVIZIO' ;
004700161122
004800161122LABEL ON COLUMN PJBARGRU/YBLS_PROPOSTE_BLOCCO
004900161122( ID_PROPOSTA TEXT IS 'ID PROPOSTA' ,
005000161122  DATA_PROPOSTA TEXT IS 'DATA PROPOSTA' ,
005100161122  TIME_UPD_PROPOSTA TEXT IS 'TIMESTAMP' ) ;
005200161122
005300161122GRANT DELETE , INSERT , SELECT , UPDATE
005400161122ON PJBARGRU/YBLS_PROPOSTE_BLOCCO TO PUBLIC ;
005500161122
005600161122GRANT ALTER , DELETE , INDEX , INSERT , REFERENCES , SELECT , UPDATE
005700161122ON PJBARGRU/YBLS_PROPOSTE_BLOCCO TO QPGMR WITH GRANT OPTION ;
005800161122
