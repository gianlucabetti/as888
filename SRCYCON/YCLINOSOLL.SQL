000100140113--  Generazione SQL
000200140113--  Versione:                  V7R1M0 100423
000300140113--  Generata su:               13/01/14 14:33:18
000400140113--  Database relazionale:      SETRAS
000500140113--  Opzioni standard:          DB2 for i
000600140113
000700140113CREATE VIEW PJBARGRU/YCLINOSOLL (
000800140113  PARTITA_IVA FOR COLUMN PARTI00001 ,
000900140113  CODICE_FISCALE FOR COLUMN CODIC00001 ,
001000140113  RAGIONE_SOCIALE FOR COLUMN RAGIO00001 ,
001100140113  ID_CLIENTE ,
001200140113  ID_CLIENTE_FATTURAZIONE FOR COLUMN ID_CL00001 ,
001300140113  ABC ,
001400140113  ID_COMMERCIALE FOR COLUMN ID_CO00001 ,
001500140113  DESCRIZIONE_COMMERCIALE FOR COLUMN DESCR00001 )
001600140113  AS
001700140113  SELECT ANSOG00F.SOGPARTIVA AS PARTITA_IVA, ANSOG00F.SOGCDFISC AS CODICE_FISCALE, ANSOG00F.SOGDES A
001800140113S RAGIONE_SOCIALE, ANCLN00F.CLNKSC AS ID_CLIENTE, ANCLN00F.CLNCLIFATT AS ID_CLIENTE_FATTURAZIONE, AN
001900140113CLN00F.CLNCLASABC AS ABC, CNCLP00F.CLPAGE AS ID_COMMERCIALE, AZCMM00F.CMMDES AS DESCRIZIONE_COMMERCI
002000140113ALE
002100140113  	FROM PJBARGRU/ANCLN00F ANCLN00F
002200140113  	JOIN PJBARGRU/ANSOG00F ANSOG00F ON ANCLN00F.CLNSOGG = ANSOG00F.SOGSOGG
002300140113  	JOIN UNITRAGRU/CNCLP00F CNCLP00F ON 1 = CNCLP00F.CLPKUT AND DEC(ANCLN00F.CLNKCC, 4, 0) = CNCLP00F
002400140113.CLPKCC AND DEC(ANCLN00F.CLNKSC, 7, 0) = CNCLP00F.CLPKSC
002500140113  	JOIN UNITRAGRU/AZCMM00F AZCMM00F ON CNCLP00F.CLPAGE = AZCMM00F.CMMCOD
002600140113  	WHERE ANCLN00F.CLNSOCIETA = '201' AND ANCLN00F.CLNCLISOLL = '0' AND SUBSTR(ANCLN00F.CLNKSC, 5, 4)
002700140731 NOT IN ('','8888', '9999') AND ANCLN00F.CLNKCC <> '' AND AZCMM00F.CMMPAR = '';
002800140113
002900140113LABEL ON TABLE PJBARGRU/YCLINOSOLL
003000140113  IS 'Clienti da non sollecitare.' ;
003100140113
003200140113LABEL ON COLUMN PJBARGRU/YCLINOSOLL
003300140113( PARTITA_IVA IS 'Partita IVA' ,
003400140113  CODICE_FISCALE IS 'Cd fiscale' ,
003500140113  RAGIONE_SOCIALE IS 'Ragione             sociale' ,
003600140113  ID_CLIENTE IS 'S/C' ,
003700140113  ID_CLIENTE_FATTURAZIONE IS 'Cliente             a cui               fatturare' ,
003800140113  ABC IS 'Cl                  AB' ,
003900140113  ID_COMMERCIALE IS 'CODICE AGENTE' ,
004000140113  DESCRIZIONE_COMMERCIALE IS 'DECOD.              COMMERC.' ) ;
004100140113
004200140113LABEL ON COLUMN PJBARGRU/YCLINOSOLL
004300140113( PARTITA_IVA TEXT IS 'Partita IVA ................' ,
004400140113  CODICE_FISCALE TEXT IS 'Codice Fiscale .............' ,
004500140113  RAGIONE_SOCIALE TEXT IS 'Ragione sociale ............' ,
004600140113  ID_CLIENTE TEXT IS 'Sottoconto .................' ,
004700140113  ID_CLIENTE_FATTURAZIONE TEXT IS 'Cliente a cui fatturare ....' ,
004800140113  ABC TEXT IS 'Classificazione ABC ........' ,
004900140113  ID_COMMERCIALE TEXT IS 'CODICE AGENTE' ,
005000140113  DESCRIZIONE_COMMERCIALE TEXT IS 'DECODIFICA COMMERCIALE' ) ;
005100140113
005200140113GRANT SELECT
005300140113ON PJBARGRU/YCLINOSOLL TO PUBLIC ;
005400140113
005500140113GRANT ALTER , REFERENCES , SELECT
005600140113ON PJBARGRU/YCLINOSOLL TO QPGMR WITH GRANT OPTION ;
005700140113
