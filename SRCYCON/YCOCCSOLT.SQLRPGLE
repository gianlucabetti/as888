000100160222      //************************************************************************
000101160222      //
000102160222      // Questo programma, in base ai parametri ricevuti, decide se è possibile
000103160222      // stampare la frase che avvisa il cliente che può pagare anche con carta
000104160222      // di credito.
000105160222      //
000106160222      //************************************************************************
000107160222
000108160222       CTL-OPT ACTGRP(*NEW) OPTION(*NOUNREF:*NODEBUGIO:*SRCSTMT);
000109160222
000110160222      //************************************************************************
000111160222      //
000112160222      // Costanti.
000113160222      //
000114160222      //************************************************************************
000115160222
000116160222      /COPY GAITRASRC/SRCCONST,YCOCCSOLR
000117160222
000118160222      //************************************************************************
000119160222      //
000120160222      // Strutture.
000121160222      //
000122160222      //************************************************************************
000123160222
000124160222       DCL-DS kpjba EXT QUALIFIED END-DS;
000126160222       DCL-DS ycoccsoli EXT QUALIFIED INZ(*EXTDFT) END-DS;
000127160222       DCL-DS ycoccsolo EXT QUALIFIED INZ(*EXTDFT) END-DS;
000128160222
000129160222       DCL-DS this QUALIFIED INZ;
000130160222         esito INT(10);
000131160222       END-DS ;
000132160222
000133160222      //************************************************************************
000134160222      //
000135160222      // Prototipi.
000136160222      //
000137160222      //************************************************************************
000138160222
000139160222      /COPY GAITRASRC/SRCPROTOPR,YCOCCSOLR
000156160222
000157160222      //************************************************************************
000158160222      //
000159160222      // Parametri.
000160160222      //
000161160222      //************************************************************************
000162160222
000163160222     C     *ENTRY        PLIST
000164160222     C                   PARM                    kpjba
000173160222
000174160222      //************************************************************************
000175160222      //
000176160222      // Main.
000177160222      //
000178160222      //************************************************************************
000179160222
000180160222       *INLR = *ON;
000181160222       RESET this;
000182160222
000183160222       Ycoccsolr( YCOCCSOL_OPCODE_KPJBA : this.esito
000184160222                : 'KPJBA' : kpjba : %SIZE(kpjba) );
000186160222
000187160222       ycoccsoli.idLingua = '2';
000188160222       ycoccsoli.idFiliale = 1;
000189160222       ycoccsoli.idStampa = '*SOLLECITO';
000190160222       ycoccsoli.impIncassa = 500,00;
000191160222
000192160222       Ycoccsolr( YCOCCSOL_OPCODE_GETFRASE : this.esito
000193160222                : ycoccsoli.formato : ycoccsoli : %SIZE(ycoccsoli)
000194160222                : ycoccsolo.formato : ycoccsolo : %SIZE(ycoccsolo) );
000197160222
000198160222       Ycoccsolr( YCOCCSOL_OPCODE_SETONLR );
000199160222
000200160222       RETURN;
