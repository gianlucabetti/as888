000100091222     ***************************************************************************
000200091222     **
000300091222     ** Tester di YCOCDIVA0.
000400091222     **
000500091222     ***************************************************************************
000600091222     H DFTACTGRP(*NO) ACTGRP(*NEW) BNDDIR('PJXBND')
000700091222
000800091222     ***************************************************************************
000900091222     **
001000091222     ** Costanti.
001100091222     **
001200091222     ***************************************************************************
001300091222     D ESITO_ERROR...
001400091222     D                 C                   -1
001500091222     D ESITO_OK...
001600091222     D                 C                   0
001700091222     D PROJ_ESITO_OK...
001800091222     D                 C                   '0'
001900091222
002000091222     ***************************************************************************
002100091222     **
002200091222     ** Prototipi.
002300091222     **
002400091222     ***************************************************************************
002500091222      /COPY GAITRASRC/SRCPROTOPR,PROJ_ILE
002600091222      /COPY GAITRASRC/SRCPROTOPR,YCOCDIVA0
002700091222
002800091222     ***************************************************************************
002900091222     **
003000091222     ** Strutture dati.
003100091222     **
003200091222     ***************************************************************************
003300091222     D andiz00f      E DS                  QUALIFIED
003400091222     D                                     BASED(nullPtr)
003500091222     D dvaCli        E DS                  QUALIFIED
003600091222     D                                     INZ
003700091222     D kpjba         E DS                  QUALIFIED
003800091222     D                                     BASED(nullPtr)
003900091222     D ycoCdIvaI     E DS                  QUALIFIED
004000091222     D                                     INZ
004100091222     D ycoCdIvaO     E DS                  QUALIFIED
004200091222     D                                     INZ
004300091222
004400091222     ***************************************************************************
004500091222     **
004600091222     ** Campi.
004700091222     **
004800091222     ***************************************************************************
004900091222     D esito           S             10I 0
005000091222     D esitoProj       S              1A
005100091222     D kscCliente      S                   LIKE(andiz00f.ksc)
005200091222     D societa         S                   LIKE(andiz00f.societa)
005300091222     D unita           S                   LIKE(andiz00f.unita)
005400091222
005500091222     ***************************************************************************
005600091222     **
005700091222     ** Parametri.
005800091222     **
005900091222     ***************************************************************************
006000091222     C     *ENTRY        PLIST
006100091222     C                   PARM                    societa
006200091222     C                   PARM                    kscCliente
006300091222
006400091222     ***************************************************************************
006500091222     **
006600091222     ** Main.
006700091222     **
006800091222     ***************************************************************************
006900091222
007000091222      /FREE
007100091222
007200091222       *INLR = *ON;
007300091222
007400091222       Proj_Soggetto( '1'
007500091222                    : societa
007600091222                    : unita
007700091222                    : 'DVACLI'
007800091222                    : %DATE()
007900091222                    : %SIZE(dvaCli)
008000091222                    : 'C'
008100091222                    : kscCliente
008200091222                    : *BLANK
008300091222                    : *ZERO
008400091222                    : *OMIT
008500091222                    : *BLANK
008600091222                    : *BLANK
008700091222                    : esitoProj
008800091222                    : dvaCli
008900091222                    );
009000091222
009100091222       IF esitoProj <> *OFF;
009200091222         RETURN;
009300091222       ENDIF;
009400091222
009500091222       ycoCdIvaI.societa = societa;
009600091222       ycoCdIvai.kscCliente = kscCliente;
009700091222       ycoCdIvai.partitaIva = dvaCli.dvcPartIva;
009800091222       ycoCdIvai.nazione = dvaCli.dvcStato;
009900091222       ycoCdIvai.cap = dvaCli.dvcCap;
010000091222       ycoCdIvai.codiceIva = dvaCli.dvcCdIva;
010100100104       ycoCdIvai.provincia = dvaCli.dvcProv;
010200100104       ycoCdIvai.localita = dvaCli.dvcLocalit;
010300091222
010400091222       GetCodiceIvaPerCliente( 'GETCDIVA'
010500091222                             : esito
010600091222                             : ycoCdIvaI
010700091222                             : %SIZE(ycoCdIvaI)
010800091222                             : ycoCdIvaO
010900091222                             : %SIZE(ycoCdIvaO)
011000091222                             );
011100091222
011200091222       DSPLY ('Codice IVA da ' + dvaCli.dvcCdIva
011300091222              + ' a ' + ycoCdIvaO.codiceIva);
011400091222       DSPLY ('Territorialità ' + ycoCdIvaO.territoCli);
011500091222
011600091222      /END-FREE
