000100120509     ***************************************************************************
000200120509     **
000300120530     ** Tester di YCOCTZINT.
000400120509     **
000500120509     ***************************************************************************
000600120509     H DFTACTGRP(*NO) ACTGRP(*NEW) BNDDIR('YCOCTZ')
000700120509
000800120509     ***************************************************************************
000900120509     **
001000120509     ** Costanti.
001100120509     **
001200120509     ***************************************************************************
001300120509      /COPY GAITRASRC/SRCCONST,YCOCTZ
001400120509
001500120509     ***************************************************************************
001600120509     **
001700120509     ** Strutture dati.
001800120509     **
001900120509     ***************************************************************************
002000120509     D kpjba         E DS                  QUALIFIED
002100120509
002200120509     ***************************************************************************
002300120509     **
002400120509     ** Campi.
002500120509     **
002600120509     ***************************************************************************
002700120509     D esito           S             10I 0
002800120530     D idCliSoc        S              3A
002900120530     D idCliKsc        S              8A
003000120530     D accentraSys     S              5I 0
003100120530     D accentraNas     S             10I 0
003200120530     D importo         S             15P 2
003300120530     D idStatoCredito  S              4A
003400120530     D dataStatoCredito...
003500120530     D                 S               D
003600120509
003700120509     ***************************************************************************
003800120509     **
003900120509     ** Prototipi.
004000120509     **
004100120509     ***************************************************************************
004200120530      /COPY GAITRASRC/SRCPROTOPR,YCOCTZIN
004300120509
004400120509     ***************************************************************************
004500120509     **
004600120509     ** Parametri.
004700120509     **
004800120509     ***************************************************************************
004900120509     C     *ENTRY        PLIST
005000120509     C                   PARM                    kpjba
005100120509
005200120509     ***************************************************************************
005300120509     **
005400120509     ** Main.
005500120509     **
005600120509     ***************************************************************************
005700120509
005800120509      /FREE
005900120509
006000120509       *INLR = *ON;
006100120509
006200120530       esito = YCOCTZIN_Init(kpjba);
006300120509
006400120530       esito = YCOCTZIN_NewPratica( 69 );
006500120530
006600120530       IF esito < YCOCTZ_ESITO_OK;
006700120530         RETURN;
006800120530       ENDIF;
006900120530
007000120530       // Loop lettura clienti oggetto del contenzioso.
007100120530
007200120530       esito = YCOCTZIN_NewClienti();
007300120530
007400120530       IF esito < YCOCTZ_ESITO_OK;
007500120530         RETURN;
007600120530       ENDIF;
007700120509
007800120530       DOU esito < YCOCTZ_ESITO_OK;
007900120530         esito = YCOCTZIN_GetNextIdCliente();
008000120530         SELECT;
008100120530           WHEN esito = *ZERO;
008200120530             LEAVE;
008300120530           WHEN esito < YCOCTZ_ESITO_OK;
008400120530             RETURN;
008500120530         ENDSL;
008600120530         IF YCOCTZIN_NewCliente(esito) < YCOCTZ_ESITO_OK OR
008700120530            YCOCTZIN_GetCliente( idCliSoc
008800120530                               : idCliKsc
008900120530                               : accentraSys
009000120530                               : accentraNas
009100120530                               : importo
009200120530                               ) < YCOCTZ_ESITO_OK;
009300120530           RETURN;
009400120530         ENDIF;
009500120530         YCOCTZIN_EndCliente();
009600120530       ENDDO;
009700120530
009800120530       YCOCTZIN_EndClienti();
009900120530
010000120530       // Loop lettura stati credito del contenzioso.
010100120530
010200120530       esito = YCOCTZIN_NewStati();
010300120530
010400120530       IF esito < YCOCTZ_ESITO_OK;
010500120530         RETURN;
010600120530       ENDIF;
010700120530
010800120530       DOU esito < YCOCTZ_ESITO_OK;
010900120530         esito = YCOCTZIN_GetNextIdStato();
011000120530         SELECT;
011100120530           WHEN esito = *ZERO;
011200120530             LEAVE;
011300120530           WHEN esito < YCOCTZ_ESITO_OK;
011400120530             RETURN;
011500120530         ENDSL;
011600120530         IF YCOCTZIN_NewStato(esito) < YCOCTZ_ESITO_OK OR
011700120530            YCOCTZIN_GetStato( idStatoCredito
011800120530                             : dataStatoCredito
011900120530                             ) < YCOCTZ_ESITO_OK;
012000120530           RETURN;
012100120530         ENDIF;
012200120530         YCOCTZIN_EndStato();
012300120530       ENDDO;
012400120530
012500120530       YCOCTZIN_EndStati();
012600120509
012700120530       esito = YCOCTZIN_EndPratica(*OFF);
012800120509
012900120530       YCOCTZIN_Finalize();
013000120509
013100120509      /END-FREE
